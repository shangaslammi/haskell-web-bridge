// Generated by CoffeeScript 1.3.3
(function() {
  var socket;

  socket = new WebSocket("ws://localhost:8000/web-bridge");

  socket.onmessage = function(msg) {
    var data, reqId, response;
    console.log(msg);
    data = JSON.parse(msg.data);
    switch (data.method) {
      case "eval":
        reqId = data.reqId;
        response = {
          result: eval(data.code),
          reqId: reqId
        };
        return socket.send(JSON.stringify(response));
      case "async":
        return eval(msg.code);
    }
  };

}).call(this);
